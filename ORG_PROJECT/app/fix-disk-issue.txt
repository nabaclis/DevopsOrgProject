So to fix it...
1) login as ec2-user on the server
2) Create .aws directory in the home dir (no need cd)
3) If the “.aws” directory does not exist create it
4) Create “.aws/config” file
    [default]
    output = text
    region = us-east-1
5) Create “.aws/credentials” file
   I don’t want to paste the key so see the files on jcc348 or jcc349.
6) Create the send-log-s3.sh script.
   Again see jcc348.  We’ll talk about copying the files to all the servers later.

## Script to upload file
host_name="$(hostname -s)"
s3_bucket_name="snaplogic-prod-heap-repository"
cd /opt/snaplogic/run/log
for heap_file in `ls -1 *.hprof`; do
   file_name="$(basename ${heap_file})"
   sudo chmod 644 ${file_name}
   time aws s3 cp ${heap_file} s3://${s3_bucket_name}/${host_name}/${host_name}-${file_name}
   ret=$?
   if [ $ret -eq 0 ]; then
       rm -f ${file_name}
       sleep 10
       sudo service jcc stop
       sleep 30
       sudo service jcc start
   else
       echo "## ERROR - Please verify that the ${host_name} folder exists in bucket called: ${s3_bucket_name}"
   fi
done


7) Run the script as ec2-user not root.
   If the filesystem is full and you are not able to create the files, 
      you just have to copy the file to the tempfs.
Then adjust the script.
But, then, yah…it would be best if the scripts were first copied to the servers.  But, for now, it is on jcc348.
and 349

